<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>끝말잇기</title>
</head>
<body>
  <div><span id="order">1</span>번째 참가자</div>
  <div>제시어:<span id="word"></span></div>
  <input type="text">
  <button>입력</button>
</body>
</html>
<script>
  const num = Number(prompt("참가자는 몇명 입니까?"));
  // console.log(num);
  // console.log(typeof(num));
  const $input = document.querySelector('input');
  const $button = document.querySelector('button');
  const $order = document.querySelector('#order');
  const $word = document.querySelector('#word');

  let newWord; //현재 단어
  let word;     // 제시어

  //함수에 이름 없는 익명함수
  // const onInput = (event)=>{
  //   newWord = event.target.value; // 입력한 단어를 현재 단어로 저장.
  // }

  // const onClickButton = () =>{
  //   //제시어가 없는경우, 첫번째 참가자의 첫번째 시도 일 때 딱 한번 실행
  //   if(!word||word.at(-1)===newWord[0]){
  //     word = newWord;
  //     $word.textContent = word;
  //     const order = Number($order.textContent);
  //       if(order + 1 > num) $order.textContent = 1;
  //       else $order.textContent = order + 1;
  //   }else{ 
  //       alert('틀린 단어입니다.');
  //     }
  //     //배열의 -1 인덱스는 가장 마지막. 0번째 인덱스는 첫번째. 만약 word=가나, word.at[-1]은 나
  //     //word[-1] 자바스크립트에선 안댐 그래서 .at(-1) 사용
  //     //두번째 시도 부터 체크
  //     i
      
      
  //   }
  

  //Event이름, 콜백함수명.
  // input 이벤트 발생시, onInput 함수 호출
  $input.addEventListener('input',(event)=>{
    newWord = event.target.value; });// 입력한 단어를 현재 단어로 저장.
   //이벤트리스너를 추가함. 리스너는 듣고있음. 포트에다 열면 포트가 리스닝 하고있다가 이벤트 발생하면 작동
  // click 이벤트 발생시, onClickButton 함수 호출
  $button.addEventListener('click',() =>{
    if(!word||word.at(-1)===newWord[0]){
      word = newWord;
      $word.textContent = word;
      const order = Number($order.textContent);
        if(order + 1 > num) $order.textContent = 1;
        else $order.textContent = order + 1;
    }else{ 
        alert('틀린 단어입니다.');
      }
    }
  );

</script>


